# Epic 1 Retrospective — Platform Navigation & Tool Discovery

**Date:** 2026-02-13
**Facilitator:** Bob (Scrum Master)
**Epic:** Epic 1 — Platform Navigation & Tool Discovery
**Status:** Complete (5/5 stories done, Story 1.5 not-planned)

## Team Participants

- Bob (Scrum Master) — Facilitator
- Alice (Product Owner) — Business perspective
- Charlie (Senior Dev) — Technical perspective
- Dana (QA Engineer) — Quality perspective
- Elena (Junior Dev) — Learning perspective
- csrteam (Project Lead) — Decision-maker

## Epic Summary

### Delivery Metrics

- Stories completed: 5/5 (100%)
- Stories not-planned: 1 (Story 1.5 — Theme Toggle, dark-only theme)
- Developer: Claude Opus 4.6
- All stories completed: 2026-02-13

### Quality & Technical

- Automated checks: 15/15 tests passing, 0 lint errors, clean formatting
- Code review issues caught: ~7 HIGH, ~12 MEDIUM, ~8 LOW across all stories
- All issues resolved before story completion
- Pre-existing bugs discovered and fixed: 2
- Technical debt items: 2 (low priority)

### FRs Delivered

- FR26: Central dashboard browsing (TOOL_REGISTRY + dashboard)
- FR27: Direct URL navigation per tool (hybrid routing + pre-rendering)
- FR28: Search/filter tools by name or category (Command Palette + Sidebar)
- FR29: Mobile access at 375px with touch-friendly layout (responsive sidebar/overlay)

## What Went Well

1. **TOOL_REGISTRY pattern** — Single source of truth for all tool metadata. Created in Story 1.1, consumed cleanly by Stories 1.2 (routes), 1.3 (sidebar), 1.4 (command palette). `TOOL_REGISTRY_MAP` provides O(1) lookups. Strong architectural foundation for all future epics.

2. **Code review effectiveness** — Reviews caught real issues: HTML injection vulnerability in pre-render plugin (1.2), ARIA violations across 3 stories, inline type import violations, unsafe type casts. Security and accessibility issues caught before shipping.

3. **Opportunistic bug fixes** — 2 pre-existing bugs discovered and fixed during Epic 1 work:
   - `useDebounceCallback.ts` TypeScript error (Timeout type) — fixed with `window.setTimeout`
   - Dialog title position 0 bug (falsy check vs null check) — fixed

4. **Custom Vite pre-render plugin** — Lightweight build-time static HTML generation for SEO (~60 lines of code). Avoided heavy SSR frameworks while delivering per-tool SEO.

5. **Disciplined scope decisions** — Story 1.5 (Theme Toggle) correctly marked not-planned. Dark-only theme = no unnecessary work.

6. **Design system foundation** (Story 1.6) — Brand colors, neutral scale, semantic tokens, Space Mono font, background gradient, shadow scale all applied per UX specification.

## What Didn't Go Well

1. **Story 1.3 mid-implementation revision** — Sidebar started as push-layout with scroll-to-card and highlight-pulse. Revised mid-implementation to drawer overlay with route navigation. Required two full code review cycles (4H/2M then 3H/3M). The outcome was better (less animation, cleaner interaction), but the rework was significant.

2. **Story 1.6 scope expansion** — Scoped as "token-only" (4 files: CSS, HTML, manifest, browserconfig). Expanded to modify 12+ component files (Card, Dialog, Sidebar, CommandPalette, App, pages). The story's own dev notes explicitly stated "Do NOT modify any .tsx, .ts, or other TypeScript files" — this boundary was not maintained.

3. **Recurring accessibility gaps** — ARIA issues appeared in 3/5 stories:
   - Story 1.3: `role="dialog"` overriding `nav` landmark
   - Story 1.4: Missing `aria-expanded` on combobox, no empty-state announcement
   - Story 1.6: Missing `aria-label` on badges
   All caught in review, but the same category of mistake kept repeating.

4. **Inline type import violations** — `import type` not used consistently across multiple stories. Same pattern caught in review repeatedly.

## Key Insights

1. **Design fidelity requires explicit verification** — Component changes must be visually compared against the UX Design Directions HTML reference before marking done. Code correctness alone is insufficient.

2. **Accessibility should be built in, not bolted on** — ARIA patterns (landmarks, labels, live regions, keyboard nav) need to be part of the development process, not just the review catch.

3. **Live product reveals things planning can't** — The Story 1.3 revision (push → overlay) was justified by seeing the product live. This is a valid discovery mechanism, but teams should expect some rework when it happens.

4. **Scope expansion needs formal process** — When a story needs to grow beyond its acceptance criteria, the criteria should be explicitly updated before implementation continues.

## Technical Debt

1. **SEO data duplication** — Pre-render plugin in `vite.config.ts` duplicates tool metadata from TOOL_REGISTRY. Functional but maintenance risk as tools grow.
   - Priority: Low
   - Impact: Could cause SEO data drift if registry and plugin get out of sync

2. **Canonical URL gap during SPA navigation** — Meta tags update client-side via `useToolSeo` hook, but canonical URLs may not update correctly on route transitions.
   - Priority: Low
   - Impact: Minimal SEO impact for SPA

## Action Items

### Process Improvements

1. **Add design fidelity verification step to code review checklist**
   - Owner: Bob (Scrum Master)
   - Success criteria: Every UI story's review explicitly compares implementation against the UX Design Directions HTML before approval

2. **Build accessibility checks into development, not just review**
   - Owner: Charlie (Senior Dev)
   - Success criteria: Story dev notes include an ARIA checklist (landmarks, labels, live regions, keyboard nav) that devs self-check before submitting for review

3. **Enforce strict scope boundaries on stories**
   - Owner: Alice (Product Owner)
   - Success criteria: If a story needs scope expansion, acceptance criteria are formally updated before implementation continues

### Team Agreements

- Before marking any UI story done, visually compare against the UX Design Directions HTML reference
- Use `import type` for type-only imports from the start
- When a story's scope needs to expand, pause and update the acceptance criteria explicitly

## Next Epic Preview

**Epic 2: Standardized Tool Experience** — 5 stories planned

| Story | Focus |
|-------|-------|
| 2.1 | ToolLayout Component (card vs page modes, responsive stacking) |
| 2.2 | CopyButton & OutputDisplay (clipboard copy, toast, output variants) |
| 2.3 | Error Handling System (useToolError hook, ToolErrorBoundary) |
| 2.4 | Input Validation Utilities (shared validators with full test coverage) |
| 2.5 | Tool Descriptions, Placeholders & Tooltips |

**Dependencies on Epic 1:**
- TOOL_REGISTRY — Story 2.5 sources descriptions from registry entries
- TOOL_REGISTRY_MAP — O(1) lookups for ToolLayout
- Dedicated tool routes — ToolLayout needs `mode` prop (card vs page)
- Design tokens — Epic 2 components use the token system from Story 1.6

**Readiness assessment:** Ready to proceed. Foundation is solid, tech debt is low priority and won't block Epic 2.

## Retrospective Metadata

- First retrospective (no previous retro to reference)
- No significant discoveries requiring Epic 2 plan changes
- Epic 2 plan remains sound as-is
