---
alwaysApply: true
---

# Routing

## TanStack Router
- **Type-safe routing**: Use TanStack Router for full TypeScript integration and type-safe navigation
- **Route definition**: Define routes using `createRoute()` with proper parent-child relationships
- **Lazy loading**: Use `lazyRouteComponent()` for code splitting and performance optimization
- **Route organization**: Keep route definitions in `src/routes.tsx` with centralized route tree
- **Navigation**: Use router hooks for type-safe navigation and route parameters
- **Route constants**: Define route paths in `src/constants/route.ts` for consistency
- **404 handling**: Implement proper fallback with `notFoundComponent` redirecting to home
- **Performance**: Configure `defaultPreload: 'intent'` for smart preloading on hover

## Route Configuration Patterns
- **Single route file**: Keep all route definitions in `src/routes.tsx`
- **Root route first**: Define root route with `createRootRoute()`
- **Child routes**: Use `addChildren()` method for nested route structures
- **Lazy components**: Use `lazyRouteComponent()` for all page components
- **Not found handling**: Implement `notFoundComponent` that redirects to home
- **ESLint disable**: Add `/* eslint-disable @typescript-eslint/typedef */` for route definitions

## Route Definition Examples
```typescript
// âœ… Good route structure
import { createRootRoute, createRoute, createRouter, lazyRouteComponent, Navigate } from '@tanstack/react-router'
import { ROUTE_PATH } from '@/constants'

const rootRoute = createRootRoute({
  component: lazyRouteComponent(() => import('@/App')),
  notFoundComponent: () => <Navigate to={ROUTE_PATH.HOME} />,
})

const routeTree = rootRoute.addChildren([
  createRoute({
    component: lazyRouteComponent(() => import('@/pages/home')),
    getParentRoute: () => rootRoute,
    path: ROUTE_PATH.HOME,
  }),
  createRoute({
    component: lazyRouteComponent(() => import('@/pages/showcase')),
    getParentRoute: () => rootRoute,
    path: ROUTE_PATH.SHOWCASE,
  }),
])

export const router = createRouter({
  defaultPreload: 'intent',
  defaultPreloadStaleTime: 0,
  routeTree,
  scrollRestoration: true,
})
```

## Router Configuration
- **Preload intent**: Enable smart preloading on hover/focus
- **Stale time**: Set to 0 for fresh data on navigation
- **Scroll restoration**: Enable automatic scroll position restoration
- **Root route component**: Use for layout and shared functionality